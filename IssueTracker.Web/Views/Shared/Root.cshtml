@model IssueTracker.Web.Controllers.RootModel

@using System.Web.Optimization
@{ Layout = null; }

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
	<title>Unnamed Issue Tracker</title>
	
	@Styles.Render("~/style")

	@Html.Partial("~/Views/Shared/Scripts.cshtml")
	
	<script type="text/javascript">
		$(function () {
			var root = window.IssueTracker || (window.IssueTracker = {});
			root.virtualDirectory = ko.observable("@Url.Content("/")");
			root.priorities = ko.observableArray(@Html.Raw(Json.Encode(Model.Priorities)));
			root.statuses = ko.observableArray(@Html.Raw(Json.Encode(Model.Statuses)));
			root.users = ko.observableArray(@Html.Raw(Json.Encode(Model.Users)));
			root.projects = ko.observableArray(@Html.Raw(Json.Encode(Model.Projects)));
			root.selectedProject = ko.observable(@Html.Raw(Json.Encode(Model.SelectedProject)));
			root.selectedIssue = ko.observable();
			IssueTracker.Init.init();
		});
	</script>
</head>
	<body>
		@Html.Partial("~/Views/Shared/Header.cshtml")
		<section class="content" data-bind="remoteTemplate: view"></section>
		
		<div class="popup dialog">
			<div class="arrow top left">
				<div></div>
			</div>
			<div class="content" data-bind="html: popup"></div>
			<div class="arrow bottom left">
				<div></div>
			</div>
		</div>

		<div class="serious dialog">
			<h1 class="default"></h1>
			<i class="fa fa-times"></i>
			<div class="arrow top left">
				<div></div>
			</div>
			<div class="loading">
				<div>
					<img src="@Url.Content("~/Images/ajax-loader.gif")" alt="" />
				</div>
			</div>
			<div class="content" data-bind="html: dialog"></div>
			<div class="arrow bottom left">
				<div></div>
			</div>
		</div>
	</body>
</html>
